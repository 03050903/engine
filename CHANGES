--------------------------
PlayCanvas Runtime Changes 
--------------------------

-------
v0.65.0
-------
* Added optional ignore value to Body2dComponentSystem.raycastFirst 

-------
v0.64.1
-------
* Optimize the number of varying used by the phong shader generator with relation to UV sets and texture transforms.

-------
v0.64.0
-------
* [FIX] Handle onclose event in pc.net.Socket()
* [FIX] Body2dComponentSystem.setAngle and setPosition update world transform directly so that hierarchy is in sync

-------
v0.63.0
-------
* Added support for Keep Aspect Ratio in Application Data
* Increased gamepad deadzone
* [FIX] Changes made to 2D body and collision in Designer are reflected in live game

-------
v0.62.0
-------
* Added pc.debug.display() which displays an object in the corner of the page
* Added gamepad support with pc.input.GamePads (Chrome Canary, FF Special build at the mo)
* [FIX] Audio that has finished playing no longer restarts when you tab away and return.
* Added isPlaying() method to pc.audio.Channel which returns true if the channel is currently playing audio.
* [FIX] Binary geometries with vertex colors now load. Also, binary skin cloning is fixed.

-------
v0.61.1
-------
* [FIX] Check that animations have been loaded before playing on AnimationComponentSystem.setModel

-------
v0.61.0
-------
* [FIX] Added support to the animation system for blending two skeletons with different topologies.
* [BREAKING] AnimationComponentSystem.setAnimation() renamed to play()

-------
v0.60.0
-------
* Added caching for downloaded files to pc.resources.ResourceLoader. 
    Anything store as a Asset on the server can be cached and multiple instances are cloned (models) or shared.
* Added canonical identifiers internally to pc.resources.ResourceLoader.
    Files in different assets with matches hashes will be loaded from a single source
* [BREAKING] Model loader now ignores texture transforms on the texture. Instead they are taken from a material's parameters.
* Scene#setGlobalAmbient now also accepts separate r, g and b parameters.
* Global ambient now works when there are no lights enabled.
* Optimized some code generation for the Phong shader generator, especially for the case when no lights are enabled.

-------
v0.59.0
-------
* [FIX] Fix possible crash when animation components are loaded while the application is running
* [FIX] Fix possible crash when loading body2d components while the application is running

-------
v0.58.0
-------
* Updates to private Body2D component

-------
v0.57.0
-------
* [FIX] Entity hierarchy is built and world transforms synced before createComponent is called
* Added private Body2D component

-------
v0.56.0
-------
* Added pc.net.Socket which wraps native WebSocket

-------
v0.55.0
-------
* [FIX] Pack loading no longer edits pack data in place, a PackResourceHandler.open returns a copy

-------
v0.54.2
-------
* [FIX] Set up dynamic lights right at the start of a scene flush.

-------
v0.54.1
-------
* [FIX] Rendering would fail for materials with a specular map but no transform applied to the map.

-------
v0.54.0
-------
* Update to new Pack format, with application_data, and hierarchy properties
* pc.scene.GraphNode#getLocal/WorldPosition no longer return a reference to the graph node's LTM/WTM but a newly allocated vector.
* pc.net.http.delete_ renamed to pc.net.http.del

-------
v0.53.0
-------
* Phong shader now only transforms UVs in the vertex shader if there is a non-identity texture transform set.
* GraphNode#lookAt no longer allocates.
* Add some named constants to pc.math.vec3 (zero, one, xaxis, yaxis, zaxis).
* Allow integer vertex attribs which require normalization on a render. This allows for UINT8 vertex colors in a vertex buffer, for example.

-------
v0.52.2
-------
* Ensure an animation is set on a skeleton before having anim component set skeleton's graph.

-------
v0.52.1
-------
* Re-add Function.extendsFrom until Designer is updated

-------
v0.52.0
-------
* Replaced Function.extendsFrom with pc.inherits.
* Added pc.cookie.get/set to use browser cookies.
* Binary file format now active but format is likely to go through a number of iterations before stabilizing.
* Skin partitioning now operates on a pc.scene.Geometry.

-------
v0.51.0
-------
* Added setVolume() to AudioManager, it affects the volume of all audio sources
* Added suspend() and resume() to AudioManager, to pause and resume all audio sources
* Allow the passing of a preallocted vector argument to receive the position of LTM/WTM of a graph node.
* [FIX] Loading library javascript resources for the second time correctly fires success callback
* [FIX] Hierarchy is synced before script.initialize() is called
* [FIX] Visualizer camera
* Removed deprecated functions pc.each and pc.callback

-------
v0.50.0
-------
* Added pc.audio.isSupported(url) to test if the url to an audio file is a supported format.
* [FIX] Prevent crash in pc.audio.Channel3d if stop() is called when using Audio tag (FF/Opera/Safari)
* [FIX] ResourceLoaderDisplay works if resources are included in mulitple batches, also sanitize identifier before using as DOM id.
* [FIX] Probably fixed #38 by checking for 'loadstart', 'canplaythrough' and 'loadeddata' events to see if Audio tag has loaded.

-------
v0.49.0
-------
* [FIX] Fix infinite loop in lighting

-------
v0.48.0
-------
* Optional support for binary model data
* Optimized in place tangent generation
* Optimized Geometry#generateWireframe
* Add another prototype function for setting a light's color from components.
* [FIX] AABB recalculation on a transformation now works properly.
* Increase default light radius to 10 (from 1).
* Switch bloom component to use Float32Array to pass uniforms to GPU.

-------
v0.47.0
-------
* [FIX] Designer Camera in FF works again
* Added event.wheel value to MouseEvent which is normalized value across all browsers
* Added scaling to dolly camera so that movement is reduced closer to the selection
* Tidied up skybox component.
* [FIX] Local state now gets cleared properly.
* Moved camera frustum render function into CameraNode class.
* Switched from view window to ortho height and aspect ratio.
* Update camera aspect ratio on resize.

-------
v0.46.0
-------
* [FIX] Unsupported audio formats no longer hang resource loading in Firefox

-------
v0.45.0
-------
* Option to show debug ResourceLoader in pc.fw.Application

-------
v0.44.0
-------
* Optimized pc.scene.Scene front to back sorting callback.
* Added support for Axes to pc.input.Controller.
* Refactor of Mouse to support PointerLock and changed event to be based on native MouseEvent.
* Changed CameraNode#setViewWindow to optionally take separate x and y values.
* [FIX] GraphNode#setLocalPosition to work on Opera (Arguments is not an Array).
* [FIX] Phong shader now handles case where specular factor map is only sampler.

-------
v0.43.0
-------
* Optimized Device#clear
* Renamed castShadows back to getCastShadows and receiveShadows back to getReceiveShadows
* Refactored shadow-mapping (better frustum for directional lights, optimizations)
* Optimized Aabb#add to avoid allocations
* Fixed shadowmapping GLSL outside of UV bounds

-------
v0.42.0
-------
* Animation file format updated!  Reconvert all animation JSON from source FBX files!
* Reworked animation API to support skeleton to graph link up via bone names. This fixes the case where the skeleton does not include all the graph nodes.
* [FIX] Skin partitioning fixed for geometries with more than one submesh.
* Added GraphNode#lookAt and GraphNode#translate.
* Added GraphNode#set/getLocalPostion and GraphNode#getWorldPosition.
* [FIX] ResourceLoader.request now works if you don't supply a progress function.
* Updated Closure Compiler to latest version (fixes new lines at end of code modules in non-minified engine).

-------
v0.41.2
-------
* [FIX] AudioSource correctly plays audio when you add a new component over livelink
* [FIX] Cache model (if it exists) on animation component creation.

-------
v0.41.1
-------
* Increase script resource loading timeout from 10s to 60s
* Removed debug logging from resource loading

-------
v0.41.0
-------
* Reexposed cast shadows for point light even though it doesn't function (fixes saving).
* Make default light radius 10.
* Added 'rgb' and 'rgba' types for component properties which are colors.
* Local lights are once again just dispatched once per frame.
* [FIX] Script resources are loaded correctly on Opera.
* Cache geometry scope IDs (seems to give a good performance boost).
* Added OAUTH_IFRAME_ID_BASE constant for net.oauth iframe id. Fixed tests.
* [FIX] mat4.create() handles input arguments correctly (16 floats or 1 array of floats).
* Further optimizations to calculateTangents.  Probably about 10x faster than it was originally.

-------
v0.40.0
-------
* Update primitive component to support casting/receiving shadows
* Compute/load AABB info for models and primitives
* Update Copyright and title in models and primitives
* Remove some deprecated calls to pc.callback
* [FIX] Large speed increase to Designer Camera, especially in Firefox
* [FIX] Script resources which are regular javascript files no longer hang the resource loader.

-------
v0.39.3
-------
[FIX] If a spotlight's outer cone angle changes, update the shadow camera's FOV.

-------
v0.39.2
-------
[FIX] Fixed logic for enabling shadow casting on a light more than once.

-------
v0.39.0
-------
* Shadow casting enabled in the pc.scene API for directional and spot lights.
* Support multiple simultaneous shadow casting lights.
* Render spotlight cone in tools.
* Hide cast shadows attribute on point light component for now since this functionality is currently unimplemented.
* [FIX] pc.net.OAuth clears away iframes correctly

-------
v0.38.1
-------
* [FIX] Crash in Firefox when loading an exported game with a large number of Entity/Assets.

-------
v0.38.0
-------
* [FIX] Use event.currentTarget instead of target to calculate mouse offset co-ords in pc.input.Mouse

-------
v0.37.0
-------
* [FIX] context.systems.script.send() no longer crashes if you send to an entity that doesn't have a script component
* Improved light loading and support for loading distinct light intensity attribute
* Added MeshNode API for setting, casting and receiving shadows
* Added pc.fw.AppData where application data is loaded into

-------
v0.36.0
-------
* All ComponentSystems can implement an initialize() method which is passed the root entity of a loaded Pack after the Pack is loaded, but before any updates are called
* Exposed both inner and outer spotlight cone angles in Designer
* Moved light management into pc.scene.Scene. Lighting requires a Scene object to work now
* Removed functions pc.scene.LightNode#getNumEnabled() and pc.scene.LightNode#dispatch. 
* Moved static global lighting functions onto Scene instance

-------
v0.35.1
-------
* [FIX] pc.audio.Listener setVelocity crash on Firefox

-------
v0.35.0
-------
* Correctly render orthographic frustum in Designer
* Optimized animation addTime function by caching keyframe indices
* Enable PCF filtering of shadow maps
* Added spotlight component
* Update the orientation of listener in audiolistener components so that supported platforms have correct panning.  

-------
v0.34.0
-------
* Added support for distance model parameters in Audio Components

-------
v0.33.0
-------
* New pc.audio.AudioManager
* New pc.audio.Sound, pc.audio.Channel, pc.audio.Channel3d, pc.audio.Listener

-------
v0.32.0
-------
* Added ModelComponentSystem.setVisible() to show/hide models
* Added currentTime and duration accessors to AnimationComponentSystem
* initialise() method is called on all script objects after loading, before first update
* [FIX] Script update() is no longer called before the resource loading callback is called

-------
v0.31.4
-------
* Fixed pc.math.vec3.clone.

-------
v0.31.3
-------
* Switched vector, matrix and quaternion code to use Float32Array instead of Array.

-------
v0.31.2
-------
* Some optimizations mainly based around pre-creating objects/arrays to avoid garbage collection.

-------
v0.31.1
-------
* Added first pass at device orientation input handler.
* Don't generate tangents on load if the geometry already has them.

-------
v0.31.0
-------
* Added LiveLinkReparentEntityMessage and LiveLinkUpdateEntityNameMessage.
* Replaced pc.fw.Entity.reparentByGuid() with pc.fw.Entity.reparent().

-------
v0.30.1
-------
* Added 'step' option to number attributes that are exposed to the designer.
* Prevent livelink crashing if window has been closed by user.
* [FIX] Creating audio components works.

-------
v0.30.0
-------
* Change max camera FOV to 90.
* Added support for 'enumeration' type when exposing vars to the Designer.
* [FIX] a couple of leaked globals in graphnode and script_component.
* Reinstated the deleteComponent function for the script component system.
* [FIX] Final fix for Opera. Now it's just a matter of waiting for next Opera 12.x (for the typed array offset fix).
* [FIX] Animation component can handle empty guid list.
* Generate wireframe data for models/primitives when the Designer is present.
* Remove audio context from non-webkit browsers.
* Remove audionode dependency.
* Remove upper limit on animation speed.
* Updated script component to allow scripts to be tagged as runnable only in 'tools' (i.e. the Designer for the Designer camera script).
* Logging levels work in console.
* Support for transform in entity data if it's present (loading exported data).
* Support for new entity data format with no transform only components.
* [FIX] Euler functions were rotating the wrong direction around each axis.
* [FIX] toEulerXYZ handles scaled matrices.
* [FIX] toEulerXYZ and fromEulerXYZ perform updates in the 'correct' order and are compatible now.

-------
v0.29.0
-------
* [FIX] Fixed up EntityResourceHandler function call to be static.
* [FIX] Fixed directionallight/camera components to render correctly using updated Device#draw function.
* Added Update Entity Transform message to livelink.
* Replace MouseEvent object with createMouseEvent call to wrap extra data onto native MouseEvent
* Updated JSON format again. Models are enclosed in an object called 'model' and animations are enclosed in an object called 'animation'.
* Added support for wireframe rendering. Call pc.scene.Geometry#generateWireframe on a geometry and then call pc.scene.MeshNode#setRenderStyle(pc.scene.RenderStyle.WIREFRAME)

-------
v0.28.0
-------
* Prevent livelink sending messages to itself.
* [FIX] Picking code updated following deletion of SubMesh API.
* Handler for OPEN_ENTITY messages correctly handles new entities which have their parent id set, by inserting them _if_ the parent is not in the new entity list but is in the hierarchy.
* Added exception throwing for device creation which allows app code to handle problems with WebGL.
* [FIX] Fix quaternion copy function.
* [FIX] Fog no longer interpolates alpha component of a fragment.
* [FIX] pc.shape.Box.containsPoint() works now.

-------
v0.27.0
-------
* [FIX] pc.math.mat4.invert() works now
* [FIX] Fix camera frustum rendering and direction light rendering

-------
v0.26.1
-------
* [FIX] build script -o support was broken

-------
v0.26.0
-------
* [BREAKING] Change to json model format. Index buffers are now per geometry rather than per sub-mesh
* Simplified full screen quad vertex shader a little for Bloom component
* Replace audio buffers with audio element for Firefox

-------
v0.25.0
-------
* [FIX] Scripts are loaded as part of the entity requestBatch now, so callback fires after script instance is created
* [FIX] Entity.close() properly closes child entities
* [FIX] Primitive components clear away their model when deleted
* Replaced some more calls to _getComponentData with getComponentData
* [FIX] Removed calls to pc.extend in initialiseComponent() which cause infinite recursion when the data passed in is self-referential
* [FIX] AudioSourceComponentSystem.play() and AudioSourceComponentSystem.pause() check that the entity has a AudioSource component before doing anything
* Added pc.math.random(min, max) to create random numbers in a range
* The delta time (dt) value passed in to Update methods is clamped to a max of 0.1s to prevent it getting very large (especially while debugging)

-------
v0.24.0
-------
* Fix audio in Firefox, remove setSource() method. Use play(entity, name) now.
* Added audionode.js shim for Firefox
* [FIX] Skeleton nodes with one keyframe now work properly with addTime function.
* Added pc.math.quat.copy.
* Add the ability to deactivate an animation on load. The animation component can additionally be queried to see if an animation is actually currently playing.
* [FIX] Fix the case where an entity's serialized boolean false value causes the value to be incorrectly read from the component data.
* Add support for looping and volume for audio sources
* [FIX] guessResponseType method correctly handles urls with queries and fragments

-------
v0.23.0
-------
* Fixes to allow PlayCanvas to run in Opera 12
* Added support for point light attenuation
* Light enable -> setEnabled
* Improved point light handling in the framework
* Added material plugin for shadowmap program generation
* New AudioSource Component using webkitAudioContext to play sounds (audio is disabled on unsupported browsers)
* [FIX] Fix problem where material shininess can be zero giving undefined results

-------
v0.22.0
-------
* Added a fixed time step update function to the framework.
* Only override format of image elements in Texture2D.prototype.setSource.
* Added a variable rate delta time for application.
* [FIX] Alpha test now actually works as a render state.

-------
v0.21.0
-------
* The Blinn-Phong program now uses the standard Phong lighting equation.
* [FIX] Fixed probable bug in CLOSE_ENTITY message which could be closing the wrong entity.
* Added send() and broadcast() methods to ScriptComponentSystem.
* Added runtime support for specular factor maps which multiply either the specular material color or the assigned specular map.

-------
v0.20.0
-------
* [FIX] Skinning should now work in all cases.
* [FIX] Fix for some keys (e.g. 'n' and 'z') not working in input handler.

-------
v0.19.0
-------
* Added support for fetching binary data in pc.net.http
* Added pc.path.getExtension(filename) function

-------
v0.18.1
-------
* [FIX] PickComponentSystem.addShape was referencing an undefined variable 'data'
* [FIX] Missing var definitions were assigning to globals

-------
v0.18.0
-------
* Namespace logging functions
* Update primitive component to create models and add them to the scene to render
* Move picking functionality into the Scene API
* Picking API is removed from pc.fw, use pc.scene.Picker
* Enable picking of primitives
* [FIX] bug when loading multiple copies of the same skin when skin partitioning is active
* [FIX] Viewport of back buffer render targets now automatically resize
* [FIX] Updated references to old light API on model load

-------
v0.17.1
-------
* Fixed GLSL picking broken in v0.17.0

-------
v0.17.0
-------
* Fixed picking for skinned geometry
* Added guard to check of labels array is present in entity data. (It isn't in some older entities)

-------
v0.16.1
-------
* AssetResourceHandler supplies a url prefix so that if the code is hosted on a site other than platform.playcanvas.com it can still work

-------
v0.16.0
-------
* Added blending support to animation component.

-------
v0.15.0
-------
* Changed pc.gfx.Device#setCurrent to a static function
* Removed pc.gfx.Device#stop
* Fix for Designer, Pick Components weren't working
* Fix for Point Lights not working
* Fix removed old code from cubemap

-------
v0.14.1
-------
* Fix for pc.fw.Application still referencing old _camera variable
* Fix for Bloom Component still referencing old _camera variable
* Fix for SkyBox Component still referencing old _camera variable 
 
-------
v0.14.0
-------
* Replaced pop() and push() in CameraComponentSystem with setCurrent()

-------
v0.13.1
-------
* Fix mouse down event for left mouse button. 

-------
v0.13.0
-------
* Added support for preventDefault and stopPropagation in pc.input.Keyboard
* Updated components to initialize the defaults correctly
* Auto-register all the shader generators (so the user doesn't have to)

-------
v0.12.0
-------
* hierarchy is synced in Application.start() before first update tick
* Added pc.input.MouseEvent
* Removed Mouse drag event
* Removed legacy references to graph namespace
** pc.graph.procedural is now pc.scene.procedural
** pc.graph.materialplugin is now pc.scene.materialplugin
* Removed planereflection component

------
v0.7.0
------

* Added first pass at an animation component. Just loads/runs a single animation for now.
* Added new render state management API, introducing the idea of global and local state.
* Use the alpha channel in a specular map as the per-pixel shininess value.
* Fix for Phong GLSL when no lights are activated.
* Reworked parallax mapping. Effect now activates if an alpha channel is found in the normal map (containing a height map).
* Updated parallax effect in shadowmap sample.
* Updated skybox component to work with any camera clip planes. Also now just maintains a geometry instead of a mesh.
* Fixed transparency for Maya FBX exports.
* Added Visualizer launcher script for Maya (written in Python rather than MEL).
* Added runtime support for emissive maps.

------
v0.6.0
------

* Added CHANGES file
* [FIX] gizmo and pick components no longer deleted when components are updated, should be done manually for now
* Added pc.dom namespace for DOM related code
* Updated artwork to all use the correct system units (inches).
* Stop deserializing entities from message as they are transferred as normal javascript object now
* Changed reference from _id to resource_id in entity loader to support new Corazon format
* Add resource_id to Entity to support new Corazon format
* [FIX] Light component correctly disables light node when it is deleted
* Added skeleton docs to pc.gfx.Texture.
* Updated pc.gfx.Texture to be a little cleaner and more versatile (now handles canvas, video and image elements as well as byte pixel arrays).
* Fleshed out docs for pc.gfx.Texture.


------
v0.5.0
------

* ScriptLoader replaces ResourceLoader object
* Added toolsRender and toolsUpdate methods to Components
* Better rendering for directional lights in the Designer.
* Enable backface culling in the engine by default.
* Model and Camera components to be deleted correctly.
* Added support for scale in animation keyframes.
* All artwork is now generated as 1 unit equalling 1 meter.
* Tweaks to Ferrari demo assets.
* Changed pc.graph.Cameras default clip planes to work better for worlds scaled to meters.
* Stop FACT from physically loading texture images.
* Handle relative paths which are actually absolute paths on other drives.
* Integrated ImageMagick into FACT.
* Upgraded some deprecated FBX functions in FACT.
* Added backface culling option and a stats panel to Visualizer.
* Frame loaded model with the default camera in Visualizer.
* Update Visualizer launcher to only call FACT (Python commands stripped).
* Fix initial camera offset in Visualizer.
* Write PNGs instead of JPG if non-web format textures have an alpha channel.
* Updated JSON format to split out opacity into new uniform.